import{r as q,a as ue,g as me,R as xe,b as j,u as $,c as se,N as W,d as ne,B as he,e as fe,f as I,h as re}from"./vendor-6q54IaQs.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var M={exports:{}},C={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U;function pe(){if(U)return C;U=1;var t=q(),i=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,x,f){var d,c={},m=null,p=null;f!==void 0&&(m=""+f),x.key!==void 0&&(m=""+x.key),x.ref!==void 0&&(p=x.ref);for(d in x)a.call(x,d)&&!s.hasOwnProperty(d)&&(c[d]=x[d]);if(u&&u.defaultProps)for(d in x=u.defaultProps,x)c[d]===void 0&&(c[d]=x[d]);return{$$typeof:i,type:u,key:m,ref:p,props:c,_owner:r.current}}return C.Fragment=n,C.jsx=l,C.jsxs=l,C}var J;function ge(){return J||(J=1,M.exports=pe()),M.exports}var e=ge(),_={},V;function ye(){if(V)return _;V=1;var t=ue();return _.createRoot=t.createRoot,_.hydrateRoot=t.hydrateRoot,_}var ve=ye();const je={},K=t=>{let i;const n=new Set,a=(d,c)=>{const m=typeof d=="function"?d(i):d;if(!Object.is(m,i)){const p=i;i=c??(typeof m!="object"||m===null)?m:Object.assign({},i,m),n.forEach(y=>y(i,p))}},r=()=>i,x={setState:a,getState:r,getInitialState:()=>f,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(je?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=i=t(a,r,x);return x},be=t=>t?K(t):K;var L={exports:{}},T={},D={exports:{}},O={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G;function Ne(){if(G)return O;G=1;var t=q();function i(c,m){return c===m&&(c!==0||1/c===1/m)||c!==c&&m!==m}var n=typeof Object.is=="function"?Object.is:i,a=t.useState,r=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(c,m){var p=m(),y=a({inst:{value:p,getSnapshot:m}}),o=y[0].inst,h=y[1];return s(function(){o.value=p,o.getSnapshot=m,x(o)&&h({inst:o})},[c,p,m]),r(function(){return x(o)&&h({inst:o}),c(function(){x(o)&&h({inst:o})})},[c]),l(p),p}function x(c){var m=c.getSnapshot;c=c.value;try{var p=m();return!n(c,p)}catch{return!0}}function f(c,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return O.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,O}var X;function Se(){return X||(X=1,D.exports=Ne()),D.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y;function we(){if(Y)return T;Y=1;var t=q(),i=Se();function n(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var a=typeof Object.is=="function"?Object.is:n,r=i.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,x=t.useDebugValue;return T.useSyncExternalStoreWithSelector=function(f,d,c,m,p){var y=s(null);if(y.current===null){var o={hasValue:!1,value:null};y.current=o}else o=y.current;y=u(function(){function v(S){if(!g){if(g=!0,N=S,S=m(S),p!==void 0&&o.hasValue){var k=o.value;if(p(k,S))return w=k}return w=S}if(k=w,a(N,S))return k;var F=m(S);return p!==void 0&&p(k,F)?(N=S,k):(N=S,w=F)}var g=!1,N,w,E=c===void 0?null:c;return[function(){return v(d())},E===null?void 0:function(){return v(E())}]},[d,c,m,p]);var h=r(f,y[0],y[1]);return l(function(){o.hasValue=!0,o.value=h},[h]),x(h),h},T}var Z;function ke(){return Z||(Z=1,L.exports=we()),L.exports}var Ie=ke();const Ce=me(Ie),ae={},{useDebugValue:Pe}=xe,{useSyncExternalStoreWithSelector:Re}=Ce;let Q=!1;const Ee=t=>t;function _e(t,i=Ee,n){(ae?"production":void 0)!=="production"&&n&&!Q&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Q=!0);const a=Re(t.subscribe,t.getState,t.getServerState||t.getInitialState,i,n);return Pe(a),a}const ee=t=>{(ae?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const i=typeof t=="function"?be(t):t,n=(a,r)=>_e(i,a,r);return Object.assign(n,i),n},ie=t=>t?ee(t):ee,Ae={};function ze(t,i){let n;try{n=t()}catch{return}return{getItem:r=>{var s;const l=x=>x===null?null:JSON.parse(x,void 0),u=(s=n.getItem(r))!=null?s:null;return u instanceof Promise?u.then(l):l(u)},setItem:(r,s)=>n.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>n.removeItem(r)}}const P=t=>i=>{try{const n=t(i);return n instanceof Promise?n:{then(a){return P(a)(n)},catch(a){return this}}}catch(n){return{then(a){return this},catch(a){return P(a)(n)}}}},Me=(t,i)=>(n,a,r)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:h=>h,version:0,merge:(h,v)=>({...v,...h}),...i},l=!1;const u=new Set,x=new Set;let f;try{f=s.getStorage()}catch{}if(!f)return t((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...h)},a,r);const d=P(s.serialize),c=()=>{const h=s.partialize({...a()});let v;const g=d({state:h,version:s.version}).then(N=>f.setItem(s.name,N)).catch(N=>{v=N});if(v)throw v;return g},m=r.setState;r.setState=(h,v)=>{m(h,v),c()};const p=t((...h)=>{n(...h),c()},a,r);let y;const o=()=>{var h;if(!f)return;l=!1,u.forEach(g=>g(a()));const v=((h=s.onRehydrateStorage)==null?void 0:h.call(s,a()))||void 0;return P(f.getItem.bind(f))(s.name).then(g=>{if(g)return s.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==s.version){if(s.migrate)return s.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var N;return y=s.merge(g,(N=a())!=null?N:p),n(y,!0),c()}).then(()=>{v==null||v(y,void 0),l=!0,x.forEach(g=>g(y))}).catch(g=>{v==null||v(void 0,g)})};return r.persist={setOptions:h=>{s={...s,...h},h.getStorage&&(f=h.getStorage())},clearStorage:()=>{f==null||f.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>o(),hasHydrated:()=>l,onHydrate:h=>(u.add(h),()=>{u.delete(h)}),onFinishHydration:h=>(x.add(h),()=>{x.delete(h)})},o(),y||p},Le=(t,i)=>(n,a,r)=>{let s={storage:ze(()=>localStorage),partialize:o=>o,version:0,merge:(o,h)=>({...h,...o}),...i},l=!1;const u=new Set,x=new Set;let f=s.storage;if(!f)return t((...o)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...o)},a,r);const d=()=>{const o=s.partialize({...a()});return f.setItem(s.name,{state:o,version:s.version})},c=r.setState;r.setState=(o,h)=>{c(o,h),d()};const m=t((...o)=>{n(...o),d()},a,r);r.getInitialState=()=>m;let p;const y=()=>{var o,h;if(!f)return;l=!1,u.forEach(g=>{var N;return g((N=a())!=null?N:m)});const v=((h=s.onRehydrateStorage)==null?void 0:h.call(s,(o=a())!=null?o:m))||void 0;return P(f.getItem.bind(f))(s.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==s.version){if(s.migrate)return[!0,s.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var N;const[w,E]=g;if(p=s.merge(E,(N=a())!=null?N:m),n(p,!0),w)return d()}).then(()=>{v==null||v(p,void 0),p=a(),l=!0,x.forEach(g=>g(p))}).catch(g=>{v==null||v(void 0,g)})};return r.persist={setOptions:o=>{s={...s,...o},o.storage&&(f=o.storage)},clearStorage:()=>{f==null||f.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>l,onHydrate:o=>(u.add(o),()=>{u.delete(o)}),onFinishHydration:o=>(x.add(o),()=>{x.delete(o)})},s.skipHydration||y(),p||m},Te=(t,i)=>"getStorage"in i||"serialize"in i||"deserialize"in i?((Ae?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Me(t,i)):Le(t,i),De=Te,Oe=[{id:"1",name:"Dr. Rahul Sharma",email:"rahul.sharma@iiita.ac.in",password:"password123",role:"professor",department:"Computer Science",profileImage:"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&w=100"},{id:"2",name:"Priya Mishra",email:"priya.mishra@iiita.ac.in",password:"password123",role:"ta",department:"Computer Science",profileImage:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=100"}],R=ie()(De(t=>({user:null,isAuthenticated:!1,login:async(i,n)=>{const a=Oe.find(r=>r.email===i&&r.password===n);if(a){const{password:r,...s}=a;return t({user:s,isAuthenticated:!0}),!0}return!1},logout:()=>{t({user:null,isAuthenticated:!1})},updateProfile:i=>{t(n=>({user:n.user?{...n.user,...i}:null}))}}),{name:"auth-storage"}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),b=(t,i)=>{const n=j.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:u="",children:x,...f},d)=>j.createElement("svg",{ref:d,...qe,width:r,height:r,stroke:a,strokeWidth:l?Number(s)*24/Number(r):s,className:["lucide",`lucide-${$e(t)}`,u].join(" "),...f},[...i.map(([c,m])=>j.createElement(c,m)),...Array.isArray(x)?x:[x]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=b("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=b("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=b("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=b("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=b("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=b("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=b("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=b("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=b("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=b("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=b("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=b("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=b("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=b("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=b("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=b("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=b("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=b("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),de="/assets/iiita-logo-nfmUdFMV.gif",tt=()=>{const[t,i]=j.useState(""),[n,a]=j.useState(""),[r,s]=j.useState(""),[l,u]=j.useState(!1),{login:x}=R(),f=$(),d=async c=>{if(c.preventDefault(),s(""),u(!0),!t.endsWith("@iiita.ac.in")){s("Please use your IIIT Allahabad email"),u(!1);return}try{await x(t,n)?f("/"):s("Invalid email or password")}catch{s("An error occurred. Please try again.")}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f1f4f9] to-[#d6e0ef] flex items-center justify-center px-4 sm:px-6",children:e.jsxs("div",{className:"w-full max-w-lg sm:max-w-md bg-white rounded-xl shadow-lg p-8 sm:p-10 animate-fade-in-up border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("img",{src:de,alt:"IIIT Allahabad Logo",className:"w-24 h-24 object-contain mb-4"}),e.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:"IIIT Allahabad"}),e.jsx("h2",{className:"text-sm text-gray-600 mt-1 text-center",children:"Faculty & TA Attendance Login"})]}),r&&e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 rounded-md mb-6 flex items-start",children:[e.jsx(H,{className:"text-red-500 mr-2 mt-0.5",size:18}),e.jsx("p",{className:"text-sm text-red-700",children:r})]}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"email",value:t,onChange:c=>i(c.target.value),placeholder:"you@iiita.ac.in",className:"w-full pl-12 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all sm:text-lg",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"password",value:n,onChange:c=>a(c.target.value),placeholder:"••••••••",className:"w-full pl-12 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all sm:text-lg",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:l,className:`w-full bg-blue-600 hover:bg-blue-700 transition duration-200 text-white py-3 rounded-lg text-sm font-semibold shadow-lg flex items-center justify-center ${l?"opacity-70 cursor-not-allowed":""}`,children:l?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Authenticating..."]}):"Login"})]}),e.jsx("p",{className:"text-xs text-gray-400 text-center mt-6",children:"Access is limited to IIIT Allahabad faculty & TAs"})]})})},te=[{id:"cs101",name:"Introduction to Programming",course:"CS101",section:"A",students:[{id:"s1",name:"Aditya Kumar",rollNumber:"IIT2020001",attendancePercentage:95},{id:"s2",name:"Shreya Singh",rollNumber:"IIT2020015",attendancePercentage:88},{id:"s3",name:"Rajesh Verma",rollNumber:"IIT2020032",attendancePercentage:76},{id:"s4",name:"Priyanka Joshi",rollNumber:"IIT2020045",attendancePercentage:92},{id:"s5",name:"Mohit Agarwal",rollNumber:"IIT2020056",attendancePercentage:85}],sessions:[{id:"sess1",date:"2025-04-05",takenBy:{id:"1",name:"Dr. Rahul Sharma"},attendanceRecords:[{studentId:"s1",present:!0},{studentId:"s2",present:!0},{studentId:"s3",present:!1},{studentId:"s4",present:!0},{studentId:"s5",present:!0}]}]},{id:"cs201",name:"Data Structures",course:"CS201",section:"B",students:[{id:"s6",name:"Ananya Patel",rollNumber:"IIT2019005",attendancePercentage:90},{id:"s7",name:"Vikram Reddy",rollNumber:"IIT2019018",attendancePercentage:82},{id:"s8",name:"Neha Sharma",rollNumber:"IIT2019027",attendancePercentage:79},{id:"s9",name:"Rohan Mehra",rollNumber:"IIT2019036",attendancePercentage:95}],sessions:[]},{id:"cs301",name:"Database Management",course:"CS301",section:"A",students:[{id:"s10",name:"Karan Malhotra",rollNumber:"IIT2018008",attendancePercentage:88},{id:"s11",name:"Pooja Gupta",rollNumber:"IIT2018022",attendancePercentage:93},{id:"s12",name:"Arjun Singh",rollNumber:"IIT2018040",attendancePercentage:75}],sessions:[]}],B=ie((t,i)=>({classes:te,fetchClasses:()=>{t({classes:te})},getClassById:n=>i().classes.find(a=>a.id===n),markAttendance:(n,a,r,s)=>{t(l=>{const u=[...l.classes],x=u.findIndex(m=>m.id===n);if(x===-1)return l;const f=u[x].sessions.findIndex(m=>m.id===a);if(f===-1)return l;const d=u[x].sessions[f].attendanceRecords.findIndex(m=>m.studentId===r);d===-1?u[x].sessions[f].attendanceRecords.push({studentId:r,present:s}):u[x].sessions[f].attendanceRecords[d].present=s;const c=u[x].students.findIndex(m=>m.id===r);if(c!==-1){const p=u[x].sessions.flatMap(h=>h.attendanceRecords.filter(v=>v.studentId===r)),y=p.filter(h=>h.present).length,o=p.length;if(o>0){const h=Math.round(y/o*100);u[x].students[c].attendancePercentage=h}}return{classes:u}})},createAttendanceSession:n=>{const a=`sess-${Date.now()}`,r=new Date().toISOString().split("T")[0];return t(s=>{const l=[...s.classes],u=l.findIndex(d=>d.id===n);if(u===-1)return s;const x=l[u].students,f={id:a,date:r,takenBy:{id:"1",name:"Dr. Rahul Sharma"},attendanceRecords:x.map(d=>({studentId:d.id,present:!0}))};return l[u].sessions.unshift(f),{classes:l}}),a}})),st=()=>{const{user:t}=R(),{classes:i,fetchClasses:n}=B(),a=$();j.useEffect(()=>{n()},[n]);const r=l=>{a(`/attendance/${l}`)},s=(l,u)=>{u.stopPropagation(),a(`/class-stats/${l}`)};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsxs("h1",{className:"text-xl font-semibold",children:["Welcome, ",t==null?void 0:t.name]})}),e.jsx("div",{className:"card p-4 bg-iiit-blue text-white",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Teaching Load"}),e.jsxs("p",{className:"text-white text-opacity-80 text-sm",children:[i.length," Active Course",i.length!==1?"s":""]})]}),e.jsx("div",{className:"bg-white bg-opacity-20 p-3 rounded-full",children:e.jsx(Be,{size:24})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Your Classes"}),i.length===0?e.jsx("div",{className:"card p-6 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No classes assigned yet."})}):i.map(l=>e.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:()=>r(l.id),children:[e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold",children:l.name}),e.jsx("span",{className:"text-sm text-gray-500",children:l.course})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Section ",l.section]})]}),e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{size:18,className:"text-gray-500"}),e.jsxs("span",{className:"text-sm",children:[l.students.length," Students"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{size:18,className:"text-gray-500"}),e.jsxs("span",{className:"text-sm",children:[l.sessions.length," Sessions"]})]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:u=>s(l.id,u),className:"p-2 text-iiit-blue hover:bg-gray-100 rounded-full",children:e.jsx(Ke,{size:18})}),e.jsx(Ve,{size:18,className:"text-gray-400 ml-1"})]})]})]},l.id))]})]})},nt=()=>{const{classId:t}=se(),{getClassById:i,createAttendanceSession:n,markAttendance:a}=B(),[r,s]=j.useState(null),[l,u]=j.useState(!1),[x,f]=j.useState(!1),d=i(t||"");if(j.useEffect(()=>{if(d&&d.sessions.length===0){const o=n(t||"");s(o)}else d&&d.sessions.length>0&&s(d.sessions[0].id)},[d,t,n]),!d||!r)return e.jsx("div",{className:"flex justify-center items-center h-60",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{children:"Loading..."})})});const c=d.sessions.find(o=>o.id===r);if(!c)return e.jsx("div",{className:"flex justify-center items-center h-60",children:e.jsxs("div",{className:"text-center",children:[e.jsx(H,{size:32,className:"mx-auto text-red-500 mb-2"}),e.jsx("p",{className:"text-red-500 font-medium",children:"Session not found"})]})});const m=(o,h)=>{a(t||"",r,o.id,h)},p=o=>{const h=c.attendanceRecords.find(v=>v.studentId===o.id);return h?h.present:!0},y=()=>{u(!0),setTimeout(()=>{u(!1),f(!0),setTimeout(()=>{f(!1)},3e3)},1e3)};return e.jsxs("div",{className:"space-y-4 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:d.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[d.course," - Section ",d.section]})]}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-gray-600",children:c.date})})]}),e.jsx("div",{className:"card p-4 bg-blue-50 border-l-4 border-blue-500",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Note:"})," All students are marked present by default. Click to mark a student as absent."]})}),e.jsx("div",{className:"space-y-3",children:d.students.map(o=>{const h=p(o);return e.jsx("div",{className:`card p-4 transition-all duration-200 ${h?"student-present":"student-absent"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:o.name}),e.jsx("p",{className:"text-sm text-gray-600",children:o.rollNumber})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm font-medium",children:[o.attendancePercentage,"% Overall"]}),h?e.jsxs("button",{onClick:()=>m(o,!1),className:"btn-danger !py-1 !px-3 flex items-center text-sm",children:[e.jsx(et,{size:16,className:"mr-1"}),"Mark Absent"]}):e.jsxs("button",{onClick:()=>m(o,!0),className:"bg-green-500 text-white !py-1 !px-3 rounded-md font-medium flex items-center text-sm hover:bg-green-600 transition duration-200",children:[e.jsx(Ue,{size:16,className:"mr-1"}),"Mark Present"]})]})]})},o.id)})}),e.jsx("div",{className:"fixed bottom-20 left-0 right-0 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsx("button",{onClick:y,className:`btn-primary w-full py-3 flex items-center justify-center ${l?"opacity-70 cursor-not-allowed":""}`,disabled:l,children:l?"Saving...":e.jsxs(e.Fragment,{children:[e.jsx(le,{size:18,className:"mr-2"}),"Save Attendance"]})}),x&&e.jsx("div",{className:"mt-2 bg-green-100 p-2 rounded-md text-center text-green-700 text-sm",children:"Attendance saved successfully!"})]})})]})},rt=()=>{const{user:t,updateProfile:i}=R(),[n,a]=j.useState(!1),[r,s]=j.useState((t==null?void 0:t.name)||""),[l,u]=j.useState((t==null?void 0:t.department)||""),[x,f]=j.useState(!1),[d,c]=j.useState(!1);if(!t)return null;const m=p=>{p.preventDefault(),f(!0),setTimeout(()=>{i({name:r,department:l}),f(!1),c(!0),a(!1),setTimeout(()=>{c(!1)},3e3)},1e3)};return e.jsx("div",{className:"space-y-6 animate-fade-in",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 flex flex-col items-center border-b border-gray-100",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden mb-4",children:t.profileImage?e.jsx("img",{src:t.profileImage,alt:t.name,className:"w-full h-full object-cover"}):e.jsx(oe,{size:40,className:"text-gray-400"})}),e.jsx("h2",{className:"text-xl font-semibold",children:t.name}),e.jsxs("p",{className:"text-gray-600 flex items-center mt-1",children:[e.jsx(ce,{size:16,className:"mr-1"}),t.email]}),e.jsx("p",{className:"bg-blue-50 text-iiit-blue px-3 py-1 rounded-full text-sm mt-2",children:t.role==="professor"?"Professor":"Teaching Assistant"})]}),n?e.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{id:"name",type:"text",value:r,onChange:p=>s(p.target.value),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),e.jsx("input",{id:"department",type:"text",value:l,onChange:p=>u(p.target.value),className:"input",required:!0})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"submit",className:`btn-primary flex-1 flex items-center justify-center ${x?"opacity-70 cursor-not-allowed":""}`,disabled:x,children:x?"Saving...":e.jsxs(e.Fragment,{children:[e.jsx(le,{size:16,className:"mr-2"}),"Save Changes"]})}),e.jsx("button",{type:"button",onClick:()=>{a(!1),s(t.name),u(t.department)},className:"btn bg-gray-200 text-gray-700 hover:bg-gray-300 flex-none",children:"Cancel"})]}),d&&e.jsx("div",{className:"mt-2 bg-green-100 p-2 rounded-md text-center text-green-700 text-sm",children:"Profile updated successfully!"})]}):e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("p",{className:"mt-1",children:t.department})]}),e.jsxs("button",{onClick:()=>a(!0),className:"btn-primary !py-2 !px-4 flex items-center",children:[e.jsx(Ze,{size:16,className:"mr-2"}),"Edit Profile"]})]})]})})},at=()=>{var f,d;const{classId:t}=se(),{getClassById:i}=B(),n=i(t||"");if(!n)return e.jsx("div",{className:"flex justify-center items-center h-60",children:e.jsxs("div",{className:"text-center",children:[e.jsx(H,{size:32,className:"mx-auto text-red-500 mb-2"}),e.jsx("p",{className:"text-red-500 font-medium",children:"Class not found"})]})});const a=[...n.students].sort((c,m)=>m.attendancePercentage-c.attendancePercentage),r=((f=a[0])==null?void 0:f.attendancePercentage)||0,s=((d=a[a.length-1])==null?void 0:d.attendancePercentage)||0,l=a.reduce((c,m)=>c+m.attendancePercentage,0),u=a.length?Math.round(l/a.length):0,x=a.filter(c=>c.attendancePercentage<75);return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:n.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[n.course," - Section ",n.section]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"card p-4 flex-1 flex items-center space-x-3 bg-blue-50",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-full text-white",children:e.jsx(He,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-700",children:"Average Attendance"}),e.jsxs("p",{className:"text-xl font-semibold",children:[u,"%"]})]})]}),e.jsxs("div",{className:"card p-4 flex-1 flex items-center space-x-3 bg-green-50",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-full text-white",children:e.jsx(We,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700",children:"Total Sessions"}),e.jsx("p",{className:"text-xl font-semibold",children:n.sessions.length})]})]})]}),e.jsxs("div",{className:"card overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"font-semibold",children:"Attendance Summary"})}),e.jsx("div",{className:"p-4 space-y-3",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"card border border-gray-200 p-3 flex-1 min-w-[140px]",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Highest"}),e.jsxs("p",{className:"text-lg font-semibold text-green-600",children:[r,"%"]})]}),e.jsxs("div",{className:"card border border-gray-200 p-3 flex-1 min-w-[140px]",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Lowest"}),e.jsxs("p",{className:"text-lg font-semibold text-red-600",children:[s,"%"]})]}),e.jsxs("div",{className:"card border border-gray-200 p-3 flex-1 min-w-[140px]",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Students at Risk"}),e.jsx("p",{className:"text-lg font-semibold text-amber-600",children:x.length})]})]})})]}),e.jsxs("div",{className:"card overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"font-semibold",children:"Student Rankings"})}),e.jsx("div",{className:"divide-y divide-gray-100",children:a.map((c,m)=>{let p="bg-green-100 text-green-800";return c.attendancePercentage<75?p="bg-red-100 text-red-800":c.attendancePercentage<85&&(p="bg-amber-100 text-amber-800"),e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full mr-3",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:m+1})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:c.name}),e.jsx("p",{className:"text-sm text-gray-600",children:c.rollNumber})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center mr-2",children:e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2.5 mr-2",title:`${c.attendancePercentage}%`,children:e.jsx("div",{className:"h-2.5 rounded-full bg-blue-600",style:{width:`${c.attendancePercentage}%`}})})}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p}`,children:[c.attendancePercentage,"%"]})]})]},c.id)})})]})]})},it=()=>e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10",children:e.jsx("div",{className:"container mx-auto max-w-4xl px-4",children:e.jsxs("div",{className:"flex items-center justify-around h-16",children:[e.jsxs(W,{to:"/",className:({isActive:t})=>`nav-link ${t?"active":"text-gray-500"}`,end:!0,children:[e.jsx(Ge,{size:24,className:"mb-1"}),e.jsx("span",{children:"Home"})]}),e.jsxs(W,{to:"/profile",className:({isActive:t})=>`nav-link ${t?"active":"text-gray-500"}`,children:[e.jsx(oe,{size:24,className:"mb-1"}),e.jsx("span",{children:"Profile"})]})]})})}),ct=({size:t=40,className:i=""})=>e.jsx("div",{className:`relative flex items-center ${i}`,style:{width:t,height:t},children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("div",{className:"text-blue-700 font-bold text-sm",children:"IIIT-A"})})})}),lt=()=>{const{logout:t}=R(),i=$(),n=ne(),a=()=>{const u=n.pathname;return u==="/"?"Dashboard":u==="/profile"?"Profile":u.startsWith("/attendance/")?"Mark Attendance":u.startsWith("/class-stats/")?"Class Statistics":"IIIT Attendance"},r=()=>{n.pathname!=="/"&&(n.pathname.startsWith("/attendance/")||n.pathname.startsWith("/class-stats/")?i("/"):i(-1))},s=()=>{t(),i("/login")},l=n.pathname!=="/";return e.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white shadow-md z-10",children:e.jsx("div",{className:"container mx-auto max-w-4xl px-4",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[l&&e.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-100",children:e.jsx(Je,{size:20})}),!l&&e.jsx("div",{className:"flex items-center",children:e.jsx(ct,{size:32})}),e.jsx("h1",{className:"text-lg font-semibold",children:a()})]}),e.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-100",title:"Logout",children:e.jsx(Ye,{size:20})})]})})})},A=({children:t})=>ne().pathname==="/login"?e.jsx(e.Fragment,{children:t}):e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[e.jsx(lt,{}),e.jsx("main",{className:"flex-1 pb-16 pt-16",children:e.jsx("div",{className:"container mx-auto px-4 py-4 max-w-4xl",children:t})}),e.jsx(it,{})]}),ot=()=>e.jsx("div",{className:"h-screen flex items-center justify-center bg-white",children:e.jsx("img",{src:de,alt:"IIIT Logo",className:"w-40 h-40 animate-fade-in-up"})}),z=({children:t})=>{const{isAuthenticated:i}=R();return i?e.jsx(e.Fragment,{children:t}):e.jsx(re,{to:"/login"})};function dt(){const[t,i]=j.useState(!0);return j.useEffect(()=>{const n=setTimeout(()=>{i(!1)},2500);return()=>clearTimeout(n)},[]),e.jsx(he,{children:t?e.jsx(ot,{}):e.jsxs(fe,{children:[e.jsx(I,{path:"/login",element:e.jsx(tt,{})}),e.jsx(I,{path:"/",element:e.jsx(z,{children:e.jsx(A,{children:e.jsx(st,{})})})}),e.jsx(I,{path:"/attendance/:classId",element:e.jsx(z,{children:e.jsx(A,{children:e.jsx(nt,{})})})}),e.jsx(I,{path:"/profile",element:e.jsx(z,{children:e.jsx(A,{children:e.jsx(rt,{})})})}),e.jsx(I,{path:"/class-stats/:classId",element:e.jsx(z,{children:e.jsx(A,{children:e.jsx(at,{})})})}),e.jsx(I,{path:"*",element:e.jsx(re,{to:"/"})})]})})}ve.createRoot(document.getElementById("root")).render(e.jsx(j.StrictMode,{children:e.jsx(dt,{})}));
